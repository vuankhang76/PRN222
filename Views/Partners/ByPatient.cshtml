@model InfertilityApp.Models.Partner
@{
    ViewData["Title"] = "Thông tin người phối ngẫu";
    var patient = ViewBag.Patient as InfertilityApp.Models.Patient;
}

<div class="max-w-4xl mx-auto px-4 py-6">
    <h2 class="text-2xl font-semibold text-gray-800 mb-6">
        Thông tin người phối ngẫu của bệnh nhân: 
        <span class="text-blue-600">@patient?.FullName</span>
    </h2>

    @if (Model == null)
    {
        <div class="bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded mb-4">
            Bệnh nhân chưa có thông tin về người phối ngẫu.
        </div>

        <a asp-action="Create" asp-route-patientId="@patient?.Id"
           class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded">
            Thêm thông tin người phối ngẫu
        </a>
    }
    else
    {
        <div class="overflow-x-auto">
            <table class="min-w-full bg-white border border-gray-300 rounded shadow">
                <tbody class="text-gray-700 text-sm">
                    <tr class="border-b">
                        <th class="text-left px-4 py-2 w-1/3 bg-gray-100">Họ tên</th>
                        <td class="px-4 py-2">@Model.FullName</td>
                    </tr>
                    <tr class="border-b">
                        <th class="text-left px-4 py-2 bg-gray-100">Ngày sinh</th>
                        <td class="px-4 py-2">@Model.DateOfBirth.ToString("dd/MM/yyyy")</td>
                    </tr>
                    <tr class="border-b">
                        <th class="text-left px-4 py-2 bg-gray-100">Giới tính</th>
                        <td class="px-4 py-2">@Model.Gender</td>
                    </tr>
                    <tr class="border-b">
                        <th class="text-left px-4 py-2 bg-gray-100">Số điện thoại</th>
                        <td class="px-4 py-2">
                            @(string.IsNullOrWhiteSpace(Model.PhoneNumber) ? "<span class='text-gray-400'>(Chưa cập nhật)</span>" : Model.PhoneNumber)
                        </td>
                    </tr>
                    <tr class="border-b">
                        <th class="text-left px-4 py-2 bg-gray-100">Email</th>
                        <td class="px-4 py-2">
                            @(string.IsNullOrWhiteSpace(Model.Email) ? "<span class='text-gray-400'>(Chưa cập nhật)</span>" : Model.Email)
                        </td>
                    </tr>
                    <tr class="border-b">
                        <th class="text-left px-4 py-2 bg-gray-100">Nghề nghiệp</th>
                        <td class="px-4 py-2">
                            @(string.IsNullOrWhiteSpace(Model.Occupation) ? "<span class='text-gray-400'>(Chưa cập nhật)</span>" : Model.Occupation)
                        </td>
                    </tr>
                    <tr>
                        <th class="text-left px-4 py-2 bg-gray-100">Tiền sử bệnh</th>
                        <td class="px-4 py-2">
                            @(string.IsNullOrWhiteSpace(Model.MedicalHistory) ? "<span class='text-gray-400'>(Không có)</span>" : Model.MedicalHistory)
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="mt-8">
    <a asp-controller="Patients" asp-action="Index"
       class="inline-block bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-4 rounded transition">
        ← Quay lại danh sách bệnh nhân
    </a>
</div>
    }
</div>
